{"version":3,"file":"TableFieldSettings.js","mappings":"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","sources":["webpack:///./TableFieldSettings.js"],"sourcesContent":["(function ($) {\n  /** global: Craft */\n  /** global: Garnish */\n  Craft.TableFieldSettings = Garnish.Base.extend({\n    columnsTableName: null,\n    defaultsTableName: null,\n    columnsData: null,\n    columnsTableId: null,\n    defaultsTableId: null,\n    columnsTableInputPath: null,\n    defaultsTableInputPath: null,\n\n    defaults: null,\n    columnSettings: null,\n\n    dropdownSettingsHtml: null,\n    dropdownSettingsCols: null,\n\n    columnsTable: null,\n    defaultsTable: null,\n\n    init: function (\n      columnsTableName,\n      defaultsTableName,\n      columnsData,\n      defaults,\n      columnSettings,\n      dropdownSettingsHtml,\n      dropdownSettingsCols\n    ) {\n      this.columnsTableName = columnsTableName;\n      this.defaultsTableName = defaultsTableName;\n      this.columnsData = columnsData;\n\n      this.columnsTableId = Craft.formatInputId(this.columnsTableName);\n      this.defaultsTableId = Craft.formatInputId(this.defaultsTableName);\n\n      this.columnsTableInputPath = Craft.filterArray(\n        this.columnsTableName.split(/[\\[\\]]+/)\n      );\n      this.defaultsTableInputPath = Craft.filterArray(\n        this.defaultsTableName.split(/[\\[\\]]+/)\n      );\n\n      this.defaults = defaults;\n      this.columnSettings = columnSettings;\n\n      this.dropdownSettingsHtml = dropdownSettingsHtml;\n      this.dropdownSettingsCols = dropdownSettingsCols;\n\n      this.initColumnsTable();\n      this.initDefaultsTable();\n    },\n\n    initColumnsTable: function () {\n      this.columnsTable = new ColumnTable(\n        this,\n        this.columnsTableId,\n        this.columnsTableName,\n        this.columnSettings,\n        {\n          rowIdPrefix: 'col',\n          defaultValues: {\n            type: 'singleline',\n          },\n          onAddRow: this.onAddColumn.bind(this),\n          onDeleteRow: this.reconstructDefaultsTable.bind(this),\n        }\n      );\n    },\n\n    initDefaultsTable: function () {\n      this.defaultsTable = new Craft.EditableTable(\n        this.defaultsTableId,\n        this.defaultsTableName,\n        this.columnsData,\n        {\n          rowIdPrefix: 'row',\n        }\n      );\n    },\n\n    onAddColumn: function ($tr) {\n      this.reconstructDefaultsTable();\n      this.initColumnSettingInputs($tr);\n    },\n\n    initColumnSettingInputs: function ($container) {\n      const $textareas = $container.find(\n        'td:first-child textarea, td:nth-child(3) textarea'\n      );\n      this.addListener($textareas, 'input', 'reconstructDefaultsTable');\n    },\n\n    reconstructDefaultsTable: function () {\n      this.columnsData = Craft.expandPostArray(\n        Garnish.getPostData(this.columnsTable.$tbody)\n      );\n      let defaults = Craft.expandPostArray(\n        Garnish.getPostData(this.defaultsTable.$tbody)\n      );\n\n      // If there are no columns, drop the defaults table rows and disable add row button\n      if (!Object.keys(this.columnsData).length) {\n        const $rows = this.defaultsTable.$tbody.children();\n        for (let r = 0; r < $rows.length; r++) {\n          this.defaultsTable.deleteRow(\n            this.defaultsTable.createRowObj($rows[r])\n          );\n        }\n        this.defaultsTable.$addRowBtn.css('opacity', '0.2');\n        this.defaultsTable.$addRowBtn.css('pointer-events', 'none');\n        return;\n      }\n\n      for (let i = 0; i < this.columnsTableInputPath.length; i++) {\n        const key = this.columnsTableInputPath[i];\n        if (typeof this.columnsData[key] !== 'undefined') {\n          this.columnsData = this.columnsData[key];\n        }\n      }\n\n      // Add in the dropdown options\n      for (let colId in this.columnsData) {\n        if (\n          this.columnsData.hasOwnProperty(colId) &&\n          this.columnsData[colId].type === 'select'\n        ) {\n          const rowObj = this.columnsTable.$tbody\n            .find('tr[data-id=\"' + colId + '\"]')\n            .data('editable-table-row');\n          this.columnsData[colId].options = rowObj.options || [];\n        }\n      }\n\n      for (let i = 0; i < this.defaultsTableInputPath.length; i++) {\n        const key = this.defaultsTableInputPath[i];\n\n        if (typeof defaults[key] === 'undefined') {\n          defaults = {};\n          break;\n        } else {\n          defaults = defaults[key];\n        }\n      }\n\n      let theadHtml = '<thead>' + '<tr>';\n\n      for (let colId in this.columnsData) {\n        if (!this.columnsData.hasOwnProperty(colId)) {\n          continue;\n        }\n\n        theadHtml +=\n          '<th scope=\"col\">' +\n          (this.columnsData[colId].heading\n            ? this.columnsData[colId].heading\n            : '&nbsp;') +\n          '</th>';\n      }\n\n      theadHtml += '<th colspan=\"2\"></th>' + '</tr>' + '</thead>';\n\n      const $table = $('<table/>', {\n        id: this.defaultsTableId,\n        class: 'editable fullwidth',\n      }).append(theadHtml);\n\n      const $tbody = $('<tbody/>').appendTo($table);\n\n      for (let rowId in defaults) {\n        if (!defaults.hasOwnProperty(rowId)) {\n          continue;\n        }\n\n        Craft.EditableTable.createRow(\n          rowId,\n          this.columnsData,\n          this.defaultsTableName,\n          defaults[rowId]\n        ).appendTo($tbody);\n      }\n\n      this.defaultsTable.$table.replaceWith($table);\n      this.defaultsTable.destroy();\n      delete this.defaultsTable;\n      this.initDefaultsTable();\n    },\n  });\n\n  const ColumnTable = Craft.EditableTable.extend({\n    fieldSettings: null,\n\n    init: function (fieldSettings, id, baseName, columns, settings) {\n      this.fieldSettings = fieldSettings;\n      this.base(id, baseName, columns, settings);\n    },\n\n    initialize: function () {\n      if (!this.base()) {\n        return false;\n      }\n\n      this.fieldSettings.initColumnSettingInputs(this.$tbody);\n      this.sorter.settings.onSortChange =\n        this.fieldSettings.reconstructDefaultsTable.bind(this.fieldSettings);\n      return true;\n    },\n\n    createRowObj: function ($tr) {\n      return new ColumnTable.Row(this, $tr);\n    },\n  });\n\n  ColumnTable.Row = Craft.EditableTable.Row.extend({\n    $typeSelect: null,\n    $settingsBtn: null,\n\n    options: null,\n    settingsModal: null,\n    optionsTable: null,\n\n    init: function (table, tr) {\n      this.base(table, tr);\n\n      if (this.table.fieldSettings.columnsData[this.id]) {\n        this.options =\n          this.table.fieldSettings.columnsData[this.id].options || null;\n      }\n\n      const $typeCell = this.$tr.find('td:nth-child(4)');\n      const $typeSelectContainer = $typeCell.find('.select');\n      this.$settingsBtn = $typeCell.find('.settings');\n\n      if (!this.$settingsBtn.length) {\n        this.$settingsBtn = $('<a/>', {\n          class: 'settings light invisible',\n          role: 'button',\n          'data-icon': 'settings',\n        });\n        $('<div/>', {class: 'flex flex-nowrap'})\n          .appendTo($typeCell)\n          .append($typeSelectContainer)\n          .append(this.$settingsBtn);\n      }\n\n      this.$typeSelect = $typeSelectContainer.find('select');\n      this.addListener(this.$typeSelect, 'change', 'handleTypeChange');\n      this.addListener(this.$settingsBtn, 'click', 'showSettingsModal');\n\n      this.addListener(this.$tr.closest('form'), 'submit', 'handleFormSubmit');\n    },\n\n    handleTypeChange: function () {\n      if (this.$typeSelect.val() === 'select') {\n        this.$settingsBtn.removeClass('invisible');\n      } else {\n        this.$settingsBtn.addClass('invisible');\n      }\n\n      this.table.fieldSettings.reconstructDefaultsTable();\n    },\n\n    showSettingsModal: function (ev) {\n      if (!this.settingsModal) {\n        const id =\n          'dropdownsettingsmodal' + Math.floor(Math.random() * 1000000);\n        const $modal = $('<div/>', {\n          class: 'modal dropdownsettingsmodal',\n        }).appendTo(Garnish.$bod);\n        const $body = $('<div/>', {class: 'body'})\n          .appendTo($modal)\n          .html(\n            this.table.fieldSettings.dropdownSettingsHtml.replace(/__ID__/g, id)\n          );\n\n        this.optionsTable = new Craft.EditableTable(\n          id,\n          '__NAME__',\n          this.table.fieldSettings.dropdownSettingsCols,\n          {\n            onAddRow: this.handleOptionsRowChange.bind(this),\n            onDeleteRow: this.handleOptionsRowChange.bind(this),\n          }\n        );\n\n        if (this.options && this.options.length) {\n          for (let i = 0; i < this.options.length; i++) {\n            const row = this.optionsTable.addRow(false);\n            row.$tr.find('.option-label textarea').val(this.options[i].label);\n            row.$tr.find('.option-value textarea').val(this.options[i].value);\n            row.$tr\n              .find('.option-default input[type=\"checkbox\"]')\n              .prop('checked', !!this.options[i].default);\n          }\n        } else {\n          this.optionsTable.addRow(false);\n        }\n\n        const $closeButton = $('<button/>', {\n          type: 'button',\n          class: 'btn submit',\n          text: Craft.t('app', 'Done'),\n        }).appendTo($body);\n\n        this.settingsModal = new Garnish.Modal($modal, {\n          onHide: this.handleSettingsModalHide.bind(this),\n        });\n\n        this.addListener($closeButton, 'click', function () {\n          this.settingsModal.hide();\n        });\n      } else {\n        this.settingsModal.show();\n      }\n\n      setTimeout(() => {\n        this.optionsTable.$tbody.find('textarea').first().trigger('focus');\n      }, 100);\n    },\n\n    handleOptionsRowChange: function () {\n      if (this.settingsModal) {\n        this.settingsModal.updateSizeAndPosition();\n      }\n    },\n\n    handleSettingsModalHide: function () {\n      this.options = [];\n      const $rows = this.optionsTable.$table.find('tbody tr');\n      for (let i = 0; i < $rows.length; i++) {\n        let $row = $rows.eq(i);\n        this.options.push({\n          label: $row.find('.option-label textarea').val(),\n          value: $row.find('.option-value textarea').val(),\n          default: $row\n            .find('.option-default input[type=checkbox]')\n            .prop('checked'),\n        });\n      }\n\n      this.table.fieldSettings.reconstructDefaultsTable();\n    },\n\n    handleFormSubmit: function (ev) {\n      if (this.$typeSelect.val() === 'select') {\n        $('<input/>', {\n          type: 'hidden',\n          name:\n            this.table.fieldSettings.columnsTableName +\n            '[' +\n            this.id +\n            '][options]',\n          value: JSON.stringify(this.options),\n        }).appendTo(ev.currentTarget);\n      }\n    },\n  });\n})(jQuery);\n"],"names":["$","Craft","TableFieldSettings","Garnish","Base","extend","columnsTableName","defaultsTableName","columnsData","columnsTableId","defaultsTableId","columnsTableInputPath","defaultsTableInputPath","defaults","columnSettings","dropdownSettingsHtml","dropdownSettingsCols","columnsTable","defaultsTable","init","this","formatInputId","filterArray","split","initColumnsTable","initDefaultsTable","ColumnTable","rowIdPrefix","defaultValues","type","onAddRow","onAddColumn","bind","onDeleteRow","reconstructDefaultsTable","EditableTable","$tr","initColumnSettingInputs","$container","$textareas","find","addListener","expandPostArray","getPostData","$tbody","Object","keys","length","$rows","children","r","deleteRow","createRowObj","$addRowBtn","css","i","key","colId","hasOwnProperty","rowObj","data","options","theadHtml","heading","$table","id","class","append","appendTo","rowId","createRow","replaceWith","destroy","fieldSettings","baseName","columns","settings","base","initialize","sorter","onSortChange","Row","$typeSelect","$settingsBtn","settingsModal","optionsTable","table","tr","$typeCell","$typeSelectContainer","role","closest","handleTypeChange","val","removeClass","addClass","showSettingsModal","ev","show","Math","floor","random","$modal","$bod","$body","html","replace","handleOptionsRowChange","row","addRow","label","value","prop","$closeButton","text","t","Modal","onHide","handleSettingsModalHide","hide","setTimeout","first","trigger","updateSizeAndPosition","$row","eq","push","default","handleFormSubmit","name","JSON","stringify","currentTarget","jQuery"],"sourceRoot":""}